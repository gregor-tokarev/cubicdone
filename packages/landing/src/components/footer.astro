---
import { getLangFromUrl, useTranslations } from "../i18n/utils"

const lang = getLangFromUrl(Astro.url)
const t = useTranslations(lang)

const linkSections = [
  {
    name: "Legal",
    links: [
    {label: "Privacy", href: `/${lang}/privacy`},
    {label: "Terms of Service", href: `/${lang}/terms`},
    ]
  },
  {
    name: "Company",
    links: [
    {label: "About us", href: `/${lang}/about`},
      {label: "Sitemap", href: "/sitemap-index.xml"},
    ]
  },
  {
    name: "Support",
    links: [
    {label: "FAQ", href: `/${lang}/faq`},
    {label: "Contact", href: `/${lang}/contact`},
    ]
  }
]
---

<footer class="bg-black xl:h-[375px] mt-auto pt-10 pb-10">
  <div class="grid grid-cols-6 gap-x-5 px-5 lg:px-[50px] mx-auto max-w-[1440px]">
    <div class="max-w-[430px] col-span-full lg:col-span-2">
      <strong class="text-white uppercase text-[24px] font-bold">cubicdone</strong>
      <p class="text-gray-600 mt-2.5">
        {t("footer.subtitle")}
      </p>
    </div>
    {
      linkSections.map((section, index) => (
        <div class="flex flex-col gap-4 col-span-1 mt-10 lg:mt-0 max-lg:col-span-3" class:list={[`col-start-${4 + index}`]}>
          <h4 class="text-gray-300 font-semibold">{section.name}</h4>
          <nav class="flex flex-col gap-1">
            {section.links.map((link) => (
              <a href={link.href} class="transition-colors text-gray-600 text-400 hover:text-white">{link.label}</a>
              ))
            }
          </nav>
        </div>))
    }
  </div>
</footer>
