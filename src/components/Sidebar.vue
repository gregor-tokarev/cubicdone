<script setup lang="ts">

import {ref} from "vue";
import Icon from "./Icon.vue";

const navItems = ref([
  {title: "Plan", icon: "plan", link: "/", hint: `
  <svg width="13" height="14" viewBox="0 0 13 14" fill="none" xmlns="http://www.w3.org/2000/svg">
<g clip-path="url(#clip0_38_52)">
<path d="M5.41667 4.83333H7.58333V4.02083C7.58333 3.64587 7.69452 3.27933 7.90284 2.96757C8.11116 2.6558 8.40725 2.4128 8.75366 2.26931C9.10008 2.12582 9.48127 2.08828 9.84903 2.16143C10.2168 2.23458 10.5546 2.41514 10.8197 2.68028C11.0849 2.94541 11.2654 3.28322 11.3386 3.65098C11.4117 4.01873 11.3742 4.39992 11.2307 4.74634C11.0872 5.09276 10.8442 5.38885 10.5324 5.59716C10.2207 5.80548 9.85413 5.91667 9.47917 5.91667H8.66667V8.08333H9.47917C9.85413 8.08333 10.2207 8.19452 10.5324 8.40284C10.8442 8.61116 11.0872 8.90725 11.2307 9.25366C11.3742 9.60008 11.4117 9.98127 11.3386 10.349C11.2654 10.7168 11.0849 11.0546 10.8197 11.3197C10.5546 11.5849 10.2168 11.7654 9.84903 11.8386C9.48127 11.9117 9.10008 11.8742 8.75366 11.7307C8.40725 11.5872 8.11116 11.3442 7.90284 11.0324C7.69452 10.7207 7.58333 10.3541 7.58333 9.97917V9.16667H5.41667V9.97917C5.41667 10.3541 5.30548 10.7207 5.09716 11.0324C4.88885 11.3442 4.59276 11.5872 4.24634 11.7307C3.89992 11.8742 3.51873 11.9117 3.15098 11.8386C2.78322 11.7654 2.44541 11.5849 2.18028 11.3197C1.91514 11.0546 1.73458 10.7168 1.66143 10.349C1.58828 9.98127 1.62582 9.60008 1.76931 9.25366C1.9128 8.90725 2.1558 8.61116 2.46757 8.40284C2.77933 8.19452 3.14587 8.08333 3.52083 8.08333H4.33333V5.91667H3.52083C3.14587 5.91667 2.77933 5.80548 2.46757 5.59716C2.1558 5.38885 1.9128 5.09276 1.76931 4.74634C1.62582 4.39992 1.58828 4.01873 1.66143 3.65098C1.73458 3.28322 1.91514 2.94541 2.18028 2.68028C2.44541 2.41514 2.78322 2.23458 3.15098 2.16143C3.51873 2.08828 3.89992 2.12582 4.24634 2.26931C4.59276 2.4128 4.88885 2.6558 5.09716 2.96757C5.30548 3.27933 5.41667 3.64587 5.41667 4.02083V4.83333ZM4.33333 4.83333V4.02083C4.33333 3.86014 4.28568 3.70305 4.1964 3.56943C4.10712 3.43582 3.98023 3.33168 3.83176 3.27018C3.6833 3.20869 3.51993 3.1926 3.36232 3.22395C3.20471 3.2553 3.05994 3.33268 2.94631 3.44631C2.83268 3.55994 2.7553 3.70471 2.72395 3.86232C2.6926 4.01993 2.70869 4.1833 2.77018 4.33176C2.83168 4.48023 2.93582 4.60712 3.06943 4.6964C3.20305 4.78568 3.36014 4.83333 3.52083 4.83333H4.33333ZM4.33333 9.16667H3.52083C3.36014 9.16667 3.20305 9.21432 3.06943 9.3036C2.93582 9.39288 2.83168 9.51977 2.77018 9.66824C2.70869 9.8167 2.6926 9.98007 2.72395 10.1377C2.7553 10.2953 2.83268 10.4401 2.94631 10.5537C3.05994 10.6673 3.20471 10.7447 3.36232 10.7761C3.51993 10.8074 3.6833 10.7913 3.83176 10.7298C3.98023 10.6683 4.10712 10.5642 4.1964 10.4306C4.28568 10.297 4.33333 10.1399 4.33333 9.97917V9.16667ZM8.66667 4.83333H9.47917C9.63987 4.83333 9.79695 4.78568 9.93057 4.6964C10.0642 4.60712 10.1683 4.48023 10.2298 4.33176C10.2913 4.1833 10.3074 4.01993 10.2761 3.86232C10.2447 3.70471 10.1673 3.55994 10.0537 3.44631C9.94006 3.33268 9.79529 3.2553 9.63768 3.22395C9.48007 3.1926 9.3167 3.20869 9.16824 3.27018C9.01977 3.33168 8.89288 3.43582 8.8036 3.56943C8.71432 3.70305 8.66667 3.86014 8.66667 4.02083V4.83333ZM8.66667 9.16667V9.97917C8.66667 10.1399 8.71432 10.297 8.8036 10.4306C8.89288 10.5642 9.01977 10.6683 9.16824 10.7298C9.3167 10.7913 9.48007 10.8074 9.63768 10.7761C9.79529 10.7447 9.94006 10.6673 10.0537 10.5537C10.1673 10.4401 10.2447 10.2953 10.2761 10.1377C10.3074 9.98007 10.2913 9.8167 10.2298 9.66824C10.1683 9.51977 10.0642 9.39288 9.93057 9.3036C9.79695 9.21432 9.63987 9.16667 9.47917 9.16667H8.66667ZM5.41667 5.91667V8.08333H7.58333V5.91667H5.41667Z" fill="#CCCCCC"/>
</g>
<defs>
<clipPath id="clip0_38_52">
<rect width="13" height="13" fill="white" transform="translate(0 0.5)"/>
</clipPath>
</defs>
</svg>
<span>+ i</span>
`},
  {title: "Inbox", icon: "inbox", link: "/inbox", hint: `
  <svg width="13" height="14" viewBox="0 0 13 14" fill="none" xmlns="http://www.w3.org/2000/svg">
<g clip-path="url(#clip0_38_52)">
<path d="M5.41667 4.83333H7.58333V4.02083C7.58333 3.64587 7.69452 3.27933 7.90284 2.96757C8.11116 2.6558 8.40725 2.4128 8.75366 2.26931C9.10008 2.12582 9.48127 2.08828 9.84903 2.16143C10.2168 2.23458 10.5546 2.41514 10.8197 2.68028C11.0849 2.94541 11.2654 3.28322 11.3386 3.65098C11.4117 4.01873 11.3742 4.39992 11.2307 4.74634C11.0872 5.09276 10.8442 5.38885 10.5324 5.59716C10.2207 5.80548 9.85413 5.91667 9.47917 5.91667H8.66667V8.08333H9.47917C9.85413 8.08333 10.2207 8.19452 10.5324 8.40284C10.8442 8.61116 11.0872 8.90725 11.2307 9.25366C11.3742 9.60008 11.4117 9.98127 11.3386 10.349C11.2654 10.7168 11.0849 11.0546 10.8197 11.3197C10.5546 11.5849 10.2168 11.7654 9.84903 11.8386C9.48127 11.9117 9.10008 11.8742 8.75366 11.7307C8.40725 11.5872 8.11116 11.3442 7.90284 11.0324C7.69452 10.7207 7.58333 10.3541 7.58333 9.97917V9.16667H5.41667V9.97917C5.41667 10.3541 5.30548 10.7207 5.09716 11.0324C4.88885 11.3442 4.59276 11.5872 4.24634 11.7307C3.89992 11.8742 3.51873 11.9117 3.15098 11.8386C2.78322 11.7654 2.44541 11.5849 2.18028 11.3197C1.91514 11.0546 1.73458 10.7168 1.66143 10.349C1.58828 9.98127 1.62582 9.60008 1.76931 9.25366C1.9128 8.90725 2.1558 8.61116 2.46757 8.40284C2.77933 8.19452 3.14587 8.08333 3.52083 8.08333H4.33333V5.91667H3.52083C3.14587 5.91667 2.77933 5.80548 2.46757 5.59716C2.1558 5.38885 1.9128 5.09276 1.76931 4.74634C1.62582 4.39992 1.58828 4.01873 1.66143 3.65098C1.73458 3.28322 1.91514 2.94541 2.18028 2.68028C2.44541 2.41514 2.78322 2.23458 3.15098 2.16143C3.51873 2.08828 3.89992 2.12582 4.24634 2.26931C4.59276 2.4128 4.88885 2.6558 5.09716 2.96757C5.30548 3.27933 5.41667 3.64587 5.41667 4.02083V4.83333ZM4.33333 4.83333V4.02083C4.33333 3.86014 4.28568 3.70305 4.1964 3.56943C4.10712 3.43582 3.98023 3.33168 3.83176 3.27018C3.6833 3.20869 3.51993 3.1926 3.36232 3.22395C3.20471 3.2553 3.05994 3.33268 2.94631 3.44631C2.83268 3.55994 2.7553 3.70471 2.72395 3.86232C2.6926 4.01993 2.70869 4.1833 2.77018 4.33176C2.83168 4.48023 2.93582 4.60712 3.06943 4.6964C3.20305 4.78568 3.36014 4.83333 3.52083 4.83333H4.33333ZM4.33333 9.16667H3.52083C3.36014 9.16667 3.20305 9.21432 3.06943 9.3036C2.93582 9.39288 2.83168 9.51977 2.77018 9.66824C2.70869 9.8167 2.6926 9.98007 2.72395 10.1377C2.7553 10.2953 2.83268 10.4401 2.94631 10.5537C3.05994 10.6673 3.20471 10.7447 3.36232 10.7761C3.51993 10.8074 3.6833 10.7913 3.83176 10.7298C3.98023 10.6683 4.10712 10.5642 4.1964 10.4306C4.28568 10.297 4.33333 10.1399 4.33333 9.97917V9.16667ZM8.66667 4.83333H9.47917C9.63987 4.83333 9.79695 4.78568 9.93057 4.6964C10.0642 4.60712 10.1683 4.48023 10.2298 4.33176C10.2913 4.1833 10.3074 4.01993 10.2761 3.86232C10.2447 3.70471 10.1673 3.55994 10.0537 3.44631C9.94006 3.33268 9.79529 3.2553 9.63768 3.22395C9.48007 3.1926 9.3167 3.20869 9.16824 3.27018C9.01977 3.33168 8.89288 3.43582 8.8036 3.56943C8.71432 3.70305 8.66667 3.86014 8.66667 4.02083V4.83333ZM8.66667 9.16667V9.97917C8.66667 10.1399 8.71432 10.297 8.8036 10.4306C8.89288 10.5642 9.01977 10.6683 9.16824 10.7298C9.3167 10.7913 9.48007 10.8074 9.63768 10.7761C9.79529 10.7447 9.94006 10.6673 10.0537 10.5537C10.1673 10.4401 10.2447 10.2953 10.2761 10.1377C10.3074 9.98007 10.2913 9.8167 10.2298 9.66824C10.1683 9.51977 10.0642 9.39288 9.93057 9.3036C9.79695 9.21432 9.63987 9.16667 9.47917 9.16667H8.66667ZM5.41667 5.91667V8.08333H7.58333V5.91667H5.41667Z" fill="#CCCCCC"/>
</g>
<defs>
<clipPath id="clip0_38_52">
<rect width="13" height="13" fill="white" transform="translate(0 0.5)"/>
</clipPath>
</defs>
</svg>
<span>+ G</span>
`}
])

const compact = ref(window.innerWidth < 1400)
window.addEventListener("resize", _ => {
  compact.value = window.innerWidth < 1400;
})
</script>

<template>
  <div class="bg-black px-2.5 py-4 rounded-tr-2xl rounded-br-2xl flex flex-col w-[250px]" :class="{'!w-[60px]': compact}">
    <!--    title block-->
    <div class="flex items-center pb-2.5 border-b border-[#333333]">
      <img src="../assets/img/gregor.png" alt="gregor tokarev" class="w-[60px] h-[60px] rounded-full overflow-hidden"
           :class="{'!w-[40px] !h-[40px]': compact}">
      <div v-if="!compact" class="ml-2">
        <h1 class="text-base text-white">Personal todo</h1>
        <p class="text-xs text-gray-200">Gregor Tokarev</p>
      </div>
    </div>
    <!--  navigation block-->
    <nav class="space-y-1.5 mt-8">
      <router-link class="flex items-center space-x-2 p-1.5 text-gray-300 text-base rounded-lg" v-for="item in navItems"
                   :to="item.link" v-hint="item.hint" active-class="!text-white bg-gradient-to-r from-[#1A1A1A] to-[#141414]">
        <Icon :name="item.icon"></Icon>
        <span v-if="!compact">{{ item.title }}</span>
      </router-link>
    </nav>
    <div
        class="group mt-auto flex items-center justify-between space-x-2 p-1.5 text-gray-300 rounded-lg text-base transition-colors cursor-pointer hover:text-white hover:bg-gradient-to-r from-[#1A1A1A] to-[#141414]"
        @click="compact = !compact"
    >
      <span v-if="!compact">Hide Sidebar</span>
      <Icon name="exit" class="text-gray-300 group-hover:text-white transition-colors" :class="{'rotate-180': compact}"></Icon>
    </div>
  </div>
</template>

<style scoped>

</style>
